# General app metadata
name: app-name              # Application name (used for naming resources and host subdomain)
namespace: media            # Namespace for the application, PVCs, and services

# Docker container settings
image:
  repository: my-container-repo
  tag: latest

# Timezone
timezone: "America/Los_Angeles"  # Default timezone for the application

# Replicas
replicaCount: 1

# Ports
ports:
  servicePort: 80           # Port exposed by the service
  targetPort: 8080

# Network configuration
gateway:
  name: gateway-internal    # Optional: Defaults to "gateway-internal"
  namespace: network        # Namespace where the Gateway and HTTPRoute reside
  domain: sulibot.com       # Default domain for hostnames

# Labels and Annotations
labels:
  global:
    app.kubernetes.io/part-of: my-app-group
    app.kubernetes.io/managed-by: Helm
  service:
    app.kubernetes.io/component: backend
  deployment:
    custom-deployment-label: true

annotations:
  global:
    description: "Global annotation for all resources"
  service:
    prometheus.io/scrape: "true"
    prometheus.io/port: "8080"
  deployment:
    description: "Custom annotation for deployment"

# Deployment resources
resources:
  enabled: false            # Resource limits and requests are disabled by default
  requests:
    memory: "256Mi"
    cpu: "250m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# Security Context
securityContext:
  enabled: false            # Must be explicitly enabled
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000
  readOnlyRootFilesystem: true
  allowPrivilegeEscalation: false

# Config PVC configuration
config:
  enabled: true              # PVC is enabled by default
  mountPath: /config         # Default mount path for config PVC

# Shared PVC configuration
sharedMedia:
  enabled: true              # Shared PVC is enabled by default
  mountPath: /media          # The path where the shared PVC will be mounted

# Probes for container health checks
probes:
  liveness:
    enabled: true
    path: /healthz
    port: 8080
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 1
    failureThreshold: 3
    successThreshold: 1
  readiness:
    enabled: true
    path: /ready
    port: 8080
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 1
    failureThreshold: 3
    successThreshold: 1
  startup:
    enabled: false
    path: /startup
    port: 8080
    initialDelaySeconds: 0
    periodSeconds: 10
    timeoutSeconds: 1
    failureThreshold: 30
    successThreshold: 1
